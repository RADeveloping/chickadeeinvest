@page
@model VerifyAccountModel
@{
    ViewData["Title"] = "Profile";
    ViewData["ActivePage"] = ManageNavPages.Index;
   
}

<h3 class="headingFont">Manage @ViewData["Title"]</h3>
<hr/>

<partial name="_StatusMessage" for="StatusMessage" />
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

<form id="profile-form" method="post" enctype="multipart/form-data">
    <div class="row justify-content-md-around">
        <div class="col-lg-6">
            <h3 class="subheadingFont">Photo ID</h3>
            
            @if(!Model.Input.IsIdVerified){
                <p>Please upload a copy of your legal ID to verification</p>
                <input type="file" name="IdPhoto"
                       accept=".png,.jpg,.jpeg,.gif,.tif"
                       asp-for="Input.IdPhoto"
                       class="form-control border-dashed w-100"
                       id="input.IdPhoto"
                       placeholder="Upload ID"
                       onchange="document.getElementById('IdPhoto').src = window.URL.createObjectURL(this.files[0]); document.getElementById('IdPhoto').classList.remove('d-none')"/>
            }


            @if (@Convert.ToBase64String(Model.Input.IdPhoto).Length > 10)
    {
        <img id="IdPhoto" class="img-fluid my-3 w-100 dropzone" width="300" height="300" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.IdPhoto))" alt="Id Photo">
    }
    else
    {
        <img id="IdPhoto" class="img-fluid my-3 w-100 dropzone d-none" width="300" height="300" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.IdPhoto))" alt="Id Photo">
    }
    
            
        </div>
        <div class="col-lg-6">
            <h3 class="subheadingFont">Lease Agreement</h3>
                        @if (!Model.Input.IsIdVerified)
                        {
                            <p>Please upload a copy of your lease agreement for verification</p>
                            <input type="file" name="leasePhoto"
                                   accept=".png,.jpg,.jpeg,.gif,.tif"
                                   asp-for="Input.LeasePhoto"
                                   class="form-control border-dashed w-100"
                                   id="input.leasePhoto"
                                   placeholder="Upload Lease Agreement"
                                   onchange="document.getElementById('leasePhoto').src = window.URL.createObjectURL(this.files[0]); document.getElementById('leasePhoto').classList.remove('d-none')"/>
   
                        }
                        
                           
            @if (@Convert.ToBase64String(Model.Input.LeasePhoto).Length > 10)
            {
        <img id="leasePhoto" class="img-fluid my-3 w-100 dropzone d-block" width="300" height="300" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.LeasePhoto))" alt="Lease Photo">
    }
    else
    {
        <img id="leasePhoto" class="img-fluid my-3 w-100 dropzone d-none" width="300" height="300" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.LeasePhoto))" alt="Lease Photo">
    }
            </div>
    </div>
                            @if (!Model.Input.IsIdVerified)
                            {
                                <button id="update-profile-button" type="submit" class="btn btn-outline-success mt-3 ">Submit</button>
                            }

</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}